| Endpoint (Path) | Method | Auth | Request (Body/Query)                 | Validation (rules)                                           | Responses                                                                                                                                                                                                                           |
| --------------- | ------ | ---- | ------------------------------------ | ------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /auth/register  | POST   | No   | firstName, lastName, phone, password | JSON valid                                                   | `json { "status": 400, "message": "Invalid JSON", "errors": { "json": "Request body must be valid JSON." } }`                                                                                                                       |
|                 |        |      |                                      | Required: phone, password, firstName, lastName               | `json { "status": 400, "message": "Required fields are missing.", "errors": { "phone": "Phone is required.", "password": "Password is required.", "firstName": "First name is required.", "lastName": "Last name is required." } }` |
|                 |        |      |                                      | phone: NotBlank, Regex E.164                                 | `json { "status": 400, "message": "Validation failed", "errors": { "phone": "Phone must be in E.164 format, e.g. +421xxxxxxxxx." } }`                                                                                               |
|                 |        |      |                                      | phone: Unique                                                | `json { "status": 409, "message": "Validation failed", "errors": { "phone": "User with this phone number already exists." } }`                                                                                                      |
|                 |        |      |                                      | firstName: NotBlank, Length 2–150, Regex                     | `json { "status": 400, "message": "Validation failed", "errors": { "firstName": "First name is too short." } }`                                                                                                                     |
|                 |        |      |                                      | lastName: NotBlank, Length 2–150, Regex                      | `json { "status": 400, "message": "Validation failed", "errors": { "lastName": "Last name may contain letters, spaces, apostrophes and hyphens only." } }`                                                                          |
|                 |        |      |                                      | password: PasswordComplexity (≥8, upper/lower/digit/special) | `json { "status": 400, "message": "Validation failed", "errors": { "password": "Password is too weak: must be at least 8 characters long and include uppercase, lowercase, digit, and special character." } }`                      |
|                 |        |      |                                      | Success                                                      | `json { "status": 201, "message": "User created. Verification SMS sent.", "data": { "id": 1, "phone": "+421905123456" } }`                                                                                                          |


| Endpoint (Path)  | Method | Auth | Request (Body/Query)                | Validation (rules)                                           | Responses                                                                                                                                                                                                                           |
| ---------------- | ------ | ---- | ------------------------------------| --------------------------------------------                 | --------------------------------------------------------------------------------------------------------------------------------------------------------                                                                            |
| /auth/verify-otp | POST   | No   | phone, code                         | JSON valid                                                   | `json { "status": 400, "message": "Invalid JSON", "errors": { "json": "Request body must be valid JSON." } }`                                                                                                                       |
|                  |        |      |                                     | Required: phone, code                                        | `json { "status": 400, "message": "Required fields are missing.", "errors": { "phone": "Phone is required.", "otp": "OTP is required." } }`                                                                                         |
|                  |        |      |                                     | code: Regex 5–6 digits                                       | `json { "status": 400, "message": "Validation failed", "errors": { "otp": "OTP must be 5 or 6 digits." } }`                                                                                                                         |
|                  |        |      |                                     | phone: User must exist                                       | `json { "status": 404, "message": "Validation failed", "errors": { "phone": "User with this phone not found." } }`                                                                                                                  |
|                  |        |      |                                     | Verification service unavailable                             | `json { "status": 503, "message": "Verification service unavailable. Please try later.", "errors": { "otp": "Verification temporarily unavailable." } }`                                                                            |
|                  |        |      |                                     | Verification accepted (success)                              | `json { "status": 200, "message": "OTP verified successfully.", "data": null }`                                                                                                                                                     |
|                  |        |      |                                     | Verification rejected                                        | `json { "status": 400, "message": "Validation failed", "errors": { "otp": "Verification code rejected." } }`                                                                                                                        |
|                  |        |      |                                     | Verification request invalid (Telnyx errors)                 | `json { "status": 400, "message": "Verification request invalid.", "errors": { "code": "some error from provider" } }`                                                                                                              |
|                  |        |      |                                     | Unexpected provider response                                 | `json { "status": 502, "message": "Unexpected verification provider response.", "errors": { "otp": "Unexpected verification provider response." } }`                                                                                |


| Endpoint (Path)       | Method | Auth | Request (Body/Query) | Validation (rules)                                                                        | Responses                                                                                                    |
| --------------------- | ------ | ---- | -------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------ |
| /auth/forgot-password | POST   | No   | phone                | Required: phone                                                                           | `json { "status": 400, "message": "Validation failed", "errors": { "phone": "Phone number is required." } }` |
|                       |        |      |                      | Success (neutral response regardless of user existence / OTP send errors are only logged) | `json { "status": 200, "message": "If the phone exists, a reset code was sent.", "data": null }`             |


| Endpoint (Path)      | Method | Auth | Request (Body/Query)    | Validation (rules)                                              | Responses                                                                                                                                                                                           |
| -------------------- | ------ | ---- | ----------------------- | --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| /auth/reset-password | POST   | No   | phone, otp, newPassword | Required: phone, otp, newPassword                               | `json { "status": 400, "message": "Fields phone, otp and newPassword are required.", "errors": { "phone": "Phone is required.", "otp": "OTP is required.", "password": "Password is required." } }` |
|                      |        |      |                         | otp: Regex 5–6 digits                                           | `json { "status": 400, "message": "Validation failed", "errors": { "otp": "OTP must be 5 or 6 digits." } }`                                                                                         |
|                      |        |      |                         | newPassword: PasswordComplexity (≥8, upper/lower/digit/special) | `json { "status": 400, "message": "Validation failed", "errors": { "password": "Password is too weak." } }`                                                                                         |
|                      |        |      |                         | User existence (neutral if not found)                           | `json { "status": 200, "message": "If the phone exists, the password has been reset.", "data": null }`                                                                                              |
|                      |        |      |                         | Verification service unavailable                                | `json { "status": 503, "message": "Verification service unavailable. Please try later.", "data": null }`                                                                                            |
|                      |        |      |                         | Verification accepted (success)                                 | `json { "status": 200, "message": "Password has been reset successfully.", "data": null }`                                                                                                          |
|                      |        |      |                         | Verification rejected                                           | `json { "status": 400, "message": "Validation failed", "errors": { "otp": "Invalid or expired OTP code." } }`                                                                                       |
|                      |        |      |                         | Verification request invalid (Telnyx errors)                    | `json { "status": 400, "message": "Verification request invalid.", "errors": { "provider": "..." } }`                                                                                               |
|                      |        |      |                         | Unexpected provider response                                    | `json { "status": 502, "message": "Unexpected verification provider response.", "data": { "...": "..." } }`                                                                                         |
